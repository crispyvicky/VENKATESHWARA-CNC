(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},4093:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>s.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),n(16134),n(88233),n(96560);var a=n(23191),r=n(88716),o=n(37922),s=n.n(o),l=n(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);n.d(t,i);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,16134)),"E:\\VENKATESHWARA\\VENKATESHWARA-CNC\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,88233)),"E:\\VENKATESHWARA\\VENKATESHWARA-CNC\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.bind(n,96560)),"E:\\VENKATESHWARA\\VENKATESHWARA-CNC\\app\\not-found.tsx"]}],c=["E:\\VENKATESHWARA\\VENKATESHWARA-CNC\\app\\admin\\page.tsx"],u="/admin/page",h={require:n,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},68223:(e,t,n)=>{Promise.resolve().then(n.bind(n,9523))},88378:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let a=(0,n(62881).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41190:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var a=n(10326),r=n(17577),o=n(51223);let s=r.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));s.displayName="Input"},9523:(e,t,n)=>{"use strict";n.d(t,{default:()=>nC});var a,r=n(10326),o=n(17577),s=n(77109),l=n(62881);let i=(0,l.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),d=(0,l.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),c=(0,l.Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),u=(0,l.Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var h=n(88378);let f=(0,l.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),m=(0,l.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p=(0,l.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var x=n(91664),b=n(41190);let g=[{id:"dashboard",label:"Dashboard",icon:i},{id:"orders",label:"Orders & Quotes",icon:f},{id:"clients",label:"Clients",icon:d},{id:"projects",label:"Projects",icon:u},{id:"payments",label:"Payments",icon:(0,l.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},{id:"services",label:"Services",icon:(0,l.Z)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]])},{id:"settings",label:"Settings",icon:h.Z},{id:"gallery",label:"Gallery Manager",icon:p}];function v({activeTab:e,setActiveTab:t}){return(0,r.jsxs)("aside",{className:"w-[230px] bg-[#251e14] text-[#FFD180] border-r border-walnut/30 flex flex-col min-h-screen shadow-2xl",children:[(0,r.jsxs)("div",{className:"p-6 border-b border-walnut/30 flex gap-3 items-center",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-golden-teak flex items-center justify-center",children:r.jsx(i,{className:"w-6 h-6 text-[#704214]"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"font-bold text-lg text-golden-teak",children:"Venkateshwara CNC"}),r.jsx("span",{className:"text-xs text-gold-leaf/60",children:"Admin Portal"})]})]}),r.jsx("nav",{className:"flex-1 py-8 px-3",children:r.jsx("ul",{className:"space-y-2",children:g.map(n=>(0,r.jsxs)("li",{className:"relative",children:[e===n.id&&r.jsx("span",{className:"absolute left-0 top-0 h-full w-2 bg-gradient-to-b from-golden-teak to-walnut rounded-r-md"}),(0,r.jsxs)("button",{className:`group w-full flex items-center gap-4 pl-6 pr-4 py-3 rounded-lg transition-all font-semibold text-left outline-none
                  ${e===n.id?"bg-gradient-to-r from-golden-teak to-walnut text-[#3a2208] shadow-lg border-l-4 border-golden-teak":"text-gold-leaf hover:bg-gold-leaf/10 hover:text-gold-leaf"}
                  focus-visible:ring-2 focus-visible:ring-golden-teak focus-visible:ring-offset-2 focus-visible:bg-gold-leaf/5
                `,"aria-current":e===n.id?"page":void 0,onClick:()=>t(n.id),tabIndex:0,children:[r.jsx(n.icon,{className:`w-6 h-6 ${e===n.id?"text-[#5c3303]":"text-gold-leaf group-hover:text-[#FFD180]"}`}),r.jsx("span",{className:"text-base",children:n.label})]})]},n.id))})})]})}let y=(0,l.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),w=(0,l.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),j={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function N(e){return (t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}let k={date:N({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:N({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:N({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},S={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function C(e){return(t,n)=>{let a;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;a=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;a=e.values[r]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function M(e){return(t,n={})=>{let a;let r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;let l=s[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(i)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}(i,e=>e.test(l)):function(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}(i,e=>e.test(l));return a=e.valueCallback?e.valueCallback(d):d,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(l.length)}}}let D={code:"en-US",formatDistance:(e,t,n)=>{let a;let r=j[e];return(a="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),n?.addSuffix)?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:k,formatRelative:(e,t,n,a)=>S[e],localize:{ordinalNumber:(e,t)=>{let n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:C({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:C({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:C({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:C({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:C({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return(t,n={})=>{let a=t.match(e.matchPattern);if(!a)return null;let r=a[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:M({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:M({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:M({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:M({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:M({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},_={};function P(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}function A(e){let t=P(e);return t.setHours(0,0,0,0),t}function O(e){let t=P(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function E(e,t){let n=A(e),a=A(t);return Math.round((+n-O(n)-(+a-O(a)))/864e5)}function T(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function F(e){let t=P(e),n=T(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function W(e,t){let n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??_.weekStartsOn??_.locale?.options?.weekStartsOn??0,a=P(e),r=a.getDay();return a.setDate(a.getDate()-((r<n?7:0)+r-n)),a.setHours(0,0,0,0),a}function I(e){return W(e,{weekStartsOn:1})}function L(e){let t=P(e),n=t.getFullYear(),a=T(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);let r=I(a),o=T(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);let s=I(o);return t.getTime()>=r.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function R(e){let t=P(e);return Math.round((+I(t)-+function(e){let t=L(e),n=T(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),I(n)}(t))/6048e5)+1}function Y(e,t){let n=P(e),a=n.getFullYear(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??_.firstWeekContainsDate??_.locale?.options?.firstWeekContainsDate??1,o=T(e,0);o.setFullYear(a+1,0,r),o.setHours(0,0,0,0);let s=W(o,t),l=T(e,0);l.setFullYear(a,0,r),l.setHours(0,0,0,0);let i=W(l,t);return n.getTime()>=s.getTime()?a+1:n.getTime()>=i.getTime()?a:a-1}function q(e,t){let n=P(e);return Math.round((+W(n,t)-+function(e,t){let n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??_.firstWeekContainsDate??_.locale?.options?.firstWeekContainsDate??1,a=Y(e,t),r=T(e,0);return r.setFullYear(a,0,n),r.setHours(0,0,0,0),W(r,t)}(n,t))/6048e5)+1}function B(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}let H={y(e,t){let n=e.getFullYear(),a=n>0?n:1-n;return B("yy"===t?a%100:a,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):B(n+1,2)},d:(e,t)=>B(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>B(e.getHours()%12||12,t.length),H:(e,t)=>B(e.getHours(),t.length),m:(e,t)=>B(e.getMinutes(),t.length),s:(e,t)=>B(e.getSeconds(),t.length),S(e,t){let n=t.length;return B(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},z={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V={G:function(e,t,n){let a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return H.y(e,t)},Y:function(e,t,n,a){let r=Y(e,a),o=r>0?r:1-r;return"YY"===t?B(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):B(o,t.length)},R:function(e,t){return B(L(e),t.length)},u:function(e,t){return B(e.getFullYear(),t.length)},Q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return B(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return B(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){let a=e.getMonth();switch(t){case"M":case"MM":return H.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return B(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){let r=q(e,a);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):B(r,t.length)},I:function(e,t,n){let a=R(e);return"Io"===t?n.ordinalNumber(a,{unit:"week"}):B(a,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):H.d(e,t)},D:function(e,t,n){let a=function(e){let t=P(e);return E(t,F(t))+1}(e);return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):B(a,t.length)},E:function(e,t,n){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){let r=e.getDay(),o=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return B(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){let r=e.getDay(),o=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return B(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){let a=e.getDay(),r=0===a?7:a;switch(t){case"i":return String(r);case"ii":return B(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){let a;let r=e.getHours();switch(a=12===r?z.noon:0===r?z.midnight:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){let a;let r=e.getHours();switch(a=r>=17?z.evening:r>=12?z.afternoon:r>=4?z.morning:z.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return H.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):H.H(e,t)},K:function(e,t,n){let a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):B(a,t.length)},k:function(e,t,n){let a=e.getHours();return(0===a&&(a=24),"ko"===t)?n.ordinalNumber(a,{unit:"hour"}):B(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):H.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):H.s(e,t)},S:function(e,t){return H.S(e,t)},X:function(e,t,n){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return J(a);case"XXXX":case"XX":return $(a);default:return $(a,":")}},x:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"x":return J(a);case"xxxx":case"xx":return $(a);default:return $(a,":")}},O:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+G(a,":");default:return"GMT"+$(a,":")}},z:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+G(a,":");default:return"GMT"+$(a,":")}},t:function(e,t,n){return B(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return B(e.getTime(),t.length)}};function G(e,t=""){let n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),o=a%60;return 0===o?n+String(r):n+String(r)+t+B(o,2)}function J(e,t){return e%60==0?(e>0?"-":"+")+B(Math.abs(e)/60,2):$(e,t)}function $(e,t=""){let n=Math.abs(e);return(e>0?"-":"+")+B(Math.trunc(n/60),2)+t+B(n%60,2)}let K=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Q=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},U={p:Q,P:(e,t)=>{let n;let a=e.match(/(P+)(p+)?/)||[],r=a[1],o=a[2];if(!o)return K(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",K(r,t)).replace("{{time}}",Q(o,t))}},Z=/^D+$/,X=/^Y+$/,ee=["D","DD","YY","YYYY"];function et(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}let en=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ea=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,er=/^'([^]*?)'?$/,eo=/''/g,es=/[a-zA-Z]/;function el(e,t,n){let a=n?.locale??_.locale??D,r=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??_.firstWeekContainsDate??_.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??_.weekStartsOn??_.locale?.options?.weekStartsOn??0,s=P(e);if(!((et(s)||"number"==typeof s)&&!isNaN(Number(P(s)))))throw RangeError("Invalid time value");let l=t.match(ea).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,U[t])(e,a.formatLong):e}).join("").match(en).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(er);return t?t[1].replace(eo,"'"):e}(e)};if(V[t])return{isToken:!0,value:e};if(t.match(es))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(l=a.localize.preprocessor(s,l));let i={firstWeekContainsDate:r,weekStartsOn:o,locale:a};return l.map(r=>{if(!r.isToken)return r.value;let o=r.value;return(!n?.useAdditionalWeekYearTokens&&X.test(o)||!n?.useAdditionalDayOfYearTokens&&Z.test(o))&&function(e,t,n){let a=function(e,t,n){let a="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(a),ee.includes(e))throw RangeError(a)}(o,t,String(e)),(0,V[o[0]])(s,o,a.localize,i)}).join("")}function ei(e){let t=P(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ed(e){let t=P(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ec(e,t){let n=P(e),a=n.getFullYear(),r=n.getDate(),o=T(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);let s=function(e){let t=P(e),n=t.getFullYear(),a=t.getMonth(),r=T(e,0);return r.setFullYear(n,a+1,0),r.setHours(0,0,0,0),r.getDate()}(o);return n.setMonth(t,Math.min(r,s)),n}function eu(e,t){let n=P(e);return isNaN(+n)?T(e,NaN):(n.setFullYear(t),n)}function eh(e,t){let n=P(e),a=P(t);return 12*(n.getFullYear()-a.getFullYear())+(n.getMonth()-a.getMonth())}function ef(e,t){let n=P(e);if(isNaN(t))return T(e,NaN);if(!t)return n;let a=n.getDate(),r=T(e,n.getTime());return(r.setMonth(n.getMonth()+t+1,0),a>=r.getDate())?r:(n.setFullYear(r.getFullYear(),r.getMonth(),a),n)}function em(e,t){let n=P(e),a=P(t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function ep(e,t){let n=P(e);return isNaN(t)?T(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ex(e,t){return+A(e)==+A(t)}function eb(e,t){let n=P(e),a=P(t);return n.getTime()>a.getTime()}function eg(e,t){return ep(e,7*t)}function ev(e,t){return ef(e,12*t)}function ey(e,t){let n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??_.weekStartsOn??_.locale?.options?.weekStartsOn??0,a=P(e),r=a.getDay();return a.setDate(a.getDate()+((r<n?-7:0)+6-(r-n))),a.setHours(23,59,59,999),a}function ew(e){return ey(e,{weekStartsOn:1})}var ej=function(){return(ej=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function eN(e,t,n){if(n||2==arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function ek(e){return"multiple"===e.mode}function eS(e){return"range"===e.mode}function eC(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var eM={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"},eD=Object.freeze({__proto__:null,formatCaption:function(e,t){return el(e,"LLLL y",t)},formatDay:function(e,t){return el(e,"d",t)},formatMonthCaption:function(e,t){return el(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return el(e,"cccccc",t)},formatYearCaption:function(e,t){return el(e,"yyyy",t)}}),e_=Object.freeze({__proto__:null,labelDay:function(e,t,n){return el(e,"do MMMM (EEEE)",n)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return el(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}}),eP=(0,o.createContext)(void 0);function eA(e){var t,n,a,o,s,l,i,d,c=e.initialProps,u={captionLayout:"buttons",classNames:eM,formatters:eD,labels:e_,locale:D,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},h=(t=c.fromYear,n=c.toYear,a=c.fromMonth,o=c.toMonth,s=c.fromDate,l=c.toDate,a?s=ei(a):t&&(s=new Date(t,0,1)),o?l=ed(o):n&&(l=new Date(n,11,31)),{fromDate:s?A(s):void 0,toDate:l?A(l):void 0}),f=h.fromDate,m=h.toDate,p=null!==(i=c.captionLayout)&&void 0!==i?i:u.captionLayout;"buttons"===p||f&&m||(p="buttons"),(eC(c)||ek(c)||eS(c))&&(d=c.onSelect);var x=ej(ej(ej({},u),c),{captionLayout:p,classNames:ej(ej({},u.classNames),c.classNames),components:ej({},c.components),formatters:ej(ej({},u.formatters),c.formatters),fromDate:f,labels:ej(ej({},u.labels),c.labels),mode:c.mode||u.mode,modifiers:ej(ej({},u.modifiers),c.modifiers),modifiersClassNames:ej(ej({},u.modifiersClassNames),c.modifiersClassNames),onSelect:d,styles:ej(ej({},u.styles),c.styles),toDate:m});return(0,r.jsx)(eP.Provider,{value:x,children:e.children})}function eO(){var e=(0,o.useContext)(eP);if(!e)throw Error("useDayPicker must be used within a DayPickerProvider.");return e}function eE(e){var t=eO(),n=t.locale,a=t.classNames,o=t.styles,s=t.formatters.formatCaption;return(0,r.jsx)("div",{className:a.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:n})})}function eT(e){return(0,r.jsx)("svg",ej({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:(0,r.jsx)("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eF(e){var t,n,a=e.onChange,o=e.value,s=e.children,l=e.caption,i=e.className,d=e.style,c=eO(),u=null!==(n=null===(t=c.components)||void 0===t?void 0:t.IconDropdown)&&void 0!==n?n:eT;return(0,r.jsxs)("div",{className:i,style:d,children:[(0,r.jsx)("span",{className:c.classNames.vhidden,children:e["aria-label"]}),(0,r.jsx)("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:o,onChange:a,children:s}),(0,r.jsxs)("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[l,(0,r.jsx)(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function eW(e){var t,n=eO(),a=n.fromDate,o=n.toDate,s=n.styles,l=n.locale,i=n.formatters.formatMonthCaption,d=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!a||!o)return(0,r.jsx)(r.Fragment,{});var h=[];if(function(e,t){let n=P(e),a=P(t);return n.getFullYear()===a.getFullYear()}(a,o))for(var f=ei(a),m=a.getMonth();m<=o.getMonth();m++)h.push(ec(f,m));else for(var f=ei(new Date),m=0;m<=11;m++)h.push(ec(f,m));var p=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:eF;return(0,r.jsx)(p,{name:"months","aria-label":u(),className:d.dropdown_month,style:s.dropdown_month,onChange:function(t){var n=Number(t.target.value),a=ec(ei(e.displayMonth),n);e.onChange(a)},value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:l}),children:h.map(function(e){return(0,r.jsx)("option",{value:e.getMonth(),children:i(e,{locale:l})},e.getMonth())})})}function eI(e){var t,n=e.displayMonth,a=eO(),o=a.fromDate,s=a.toDate,l=a.locale,i=a.styles,d=a.classNames,c=a.components,u=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,f=[];if(!o||!s)return(0,r.jsx)(r.Fragment,{});for(var m=o.getFullYear(),p=s.getFullYear(),x=m;x<=p;x++)f.push(eu(F(new Date),x));var b=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:eF;return(0,r.jsx)(b,{name:"years","aria-label":h(),className:d.dropdown_year,style:i.dropdown_year,onChange:function(t){var a=eu(ei(n),Number(t.target.value));e.onChange(a)},value:n.getFullYear(),caption:u(n,{locale:l}),children:f.map(function(e){return(0,r.jsx)("option",{value:e.getFullYear(),children:u(e,{locale:l})},e.getFullYear())})})}var eL=(0,o.createContext)(void 0);function eR(e){var t,n,a,s,l,i,d,c,u,h,f,m,p,x,b,g,v=eO(),y=(b=(a=(n=t=eO()).month,s=n.defaultMonth,l=n.today,i=a||s||l||new Date,d=n.toDate,c=n.fromDate,u=n.numberOfMonths,d&&0>eh(d,i)&&(i=ef(d,-1*((void 0===u?1:u)-1))),c&&0>eh(i,c)&&(i=c),h=ei(i),f=t.month,p=(m=(0,o.useState)(h))[0],x=[void 0===f?p:f,m[1]])[0],g=x[1],[b,function(e){if(!t.disableNavigation){var n,a=ei(e);g(a),null===(n=t.onMonthChange)||void 0===n||n.call(t,a)}}]),w=y[0],j=y[1],N=function(e,t){for(var n=t.reverseMonths,a=t.numberOfMonths,r=ei(e),o=eh(ei(ef(r,a)),r),s=[],l=0;l<o;l++){var i=ef(r,l);s.push(i)}return n&&(s=s.reverse()),s}(w,v),k=function(e,t){if(!t.disableNavigation){var n=t.toDate,a=t.pagedNavigation,r=t.numberOfMonths,o=void 0===r?1:r,s=ei(e);if(!n||!(eh(n,e)<o))return ef(s,a?o:1)}}(w,v),S=function(e,t){if(!t.disableNavigation){var n=t.fromDate,a=t.pagedNavigation,r=t.numberOfMonths,o=ei(e);if(!n||!(0>=eh(o,n)))return ef(o,-(a?void 0===r?1:r:1))}}(w,v),C=function(e){return N.some(function(t){return em(e,t)})};return(0,r.jsx)(eL.Provider,{value:{currentMonth:w,displayMonths:N,goToMonth:j,goToDate:function(e,t){if(!C(e))t&&+P(e)<+P(t)?j(ef(e,1+-1*v.numberOfMonths)):j(e)},previousMonth:S,nextMonth:k,isDateDisplayed:C},children:e.children})}function eY(){var e=(0,o.useContext)(eL);if(!e)throw Error("useNavigation must be used within a NavigationProvider");return e}function eq(e){var t,n=eO(),a=n.classNames,o=n.styles,s=n.components,l=eY().goToMonth,i=function(t){l(ef(t,e.displayIndex?-e.displayIndex:0))},d=null!==(t=null==s?void 0:s.CaptionLabel)&&void 0!==t?t:eE,c=(0,r.jsx)(d,{id:e.id,displayMonth:e.displayMonth});return(0,r.jsxs)("div",{className:a.caption_dropdowns,style:o.caption_dropdowns,children:[(0,r.jsx)("div",{className:a.vhidden,children:c}),(0,r.jsx)(eW,{onChange:i,displayMonth:e.displayMonth}),(0,r.jsx)(eI,{onChange:i,displayMonth:e.displayMonth})]})}function eB(e){return(0,r.jsx)("svg",ej({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,r.jsx)("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eH(e){return(0,r.jsx)("svg",ej({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,r.jsx)("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ez=(0,o.forwardRef)(function(e,t){var n=eO(),a=n.classNames,o=n.styles,s=[a.button_reset,a.button];e.className&&s.push(e.className);var l=s.join(" "),i=ej(ej({},o.button_reset),o.button);return e.style&&Object.assign(i,e.style),(0,r.jsx)("button",ej({},e,{ref:t,type:"button",className:l,style:i}))});function eV(e){var t,n,a=eO(),o=a.dir,s=a.locale,l=a.classNames,i=a.styles,d=a.labels,c=d.labelPrevious,u=d.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return(0,r.jsx)(r.Fragment,{});var f=c(e.previousMonth,{locale:s}),m=[l.nav_button,l.nav_button_previous].join(" "),p=u(e.nextMonth,{locale:s}),x=[l.nav_button,l.nav_button_next].join(" "),b=null!==(t=null==h?void 0:h.IconRight)&&void 0!==t?t:eH,g=null!==(n=null==h?void 0:h.IconLeft)&&void 0!==n?n:eB;return(0,r.jsxs)("div",{className:l.nav,style:i.nav,children:[!e.hidePrevious&&(0,r.jsx)(ez,{name:"previous-month","aria-label":f,className:m,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:"rtl"===o?(0,r.jsx)(b,{className:l.nav_icon,style:i.nav_icon}):(0,r.jsx)(g,{className:l.nav_icon,style:i.nav_icon})}),!e.hideNext&&(0,r.jsx)(ez,{name:"next-month","aria-label":p,className:x,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:"rtl"===o?(0,r.jsx)(g,{className:l.nav_icon,style:i.nav_icon}):(0,r.jsx)(b,{className:l.nav_icon,style:i.nav_icon})})]})}function eG(e){var t=eO().numberOfMonths,n=eY(),a=n.previousMonth,o=n.nextMonth,s=n.goToMonth,l=n.displayMonths,i=l.findIndex(function(t){return em(e.displayMonth,t)}),d=0===i,c=i===l.length-1;return(0,r.jsx)(eV,{displayMonth:e.displayMonth,hideNext:t>1&&(d||!c),hidePrevious:t>1&&(c||!d),nextMonth:o,previousMonth:a,onPreviousClick:function(){a&&s(a)},onNextClick:function(){o&&s(o)}})}function eJ(e){var t,n,a=eO(),o=a.classNames,s=a.disableNavigation,l=a.styles,i=a.captionLayout,d=a.components,c=null!==(t=null==d?void 0:d.CaptionLabel)&&void 0!==t?t:eE;return n=s?(0,r.jsx)(c,{id:e.id,displayMonth:e.displayMonth}):"dropdown"===i?(0,r.jsx)(eq,{displayMonth:e.displayMonth,id:e.id}):"dropdown-buttons"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eq,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),(0,r.jsx)(eG,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,r.jsx)(eG,{displayMonth:e.displayMonth,id:e.id})]}),(0,r.jsx)("div",{className:o.caption,style:l.caption,children:n})}function e$(e){var t=eO(),n=t.footer,a=t.styles,o=t.classNames.tfoot;return n?(0,r.jsx)("tfoot",{className:o,style:a.tfoot,children:(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:8,children:n})})}):(0,r.jsx)(r.Fragment,{})}function eK(){var e=eO(),t=e.classNames,n=e.styles,a=e.showWeekNumber,o=e.locale,s=e.weekStartsOn,l=e.ISOWeek,i=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,c=function(e,t,n){for(var a=n?I(new Date):W(new Date,{locale:e,weekStartsOn:t}),r=[],o=0;o<7;o++){var s=ep(a,o);r.push(s)}return r}(o,s,l);return(0,r.jsxs)("tr",{style:n.head_row,className:t.head_row,children:[a&&(0,r.jsx)("td",{style:n.head_cell,className:t.head_cell}),c.map(function(e,a){return(0,r.jsx)("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":d(e,{locale:o}),children:i(e,{locale:o})},a)})]})}function eQ(){var e,t=eO(),n=t.classNames,a=t.styles,o=t.components,s=null!==(e=null==o?void 0:o.HeadRow)&&void 0!==e?e:eK;return(0,r.jsx)("thead",{style:a.head,className:n.head,children:(0,r.jsx)(s,{})})}function eU(e){var t=eO(),n=t.locale,a=t.formatters.formatDay;return(0,r.jsx)(r.Fragment,{children:a(e.date,{locale:n})})}var eZ=(0,o.createContext)(void 0);function eX(e){return ek(e.initialProps)?(0,r.jsx)(e0,{initialProps:e.initialProps,children:e.children}):(0,r.jsx)(eZ.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:e.children})}function e0(e){var t=e.initialProps,n=e.children,a=t.selected,o=t.min,s=t.max,l={disabled:[]};return a&&l.disabled.push(function(e){var t=s&&a.length>s-1,n=a.some(function(t){return ex(t,e)});return!!(t&&!n)}),(0,r.jsx)(eZ.Provider,{value:{selected:a,onDayClick:function(e,n,r){if(null===(l=t.onDayClick)||void 0===l||l.call(t,e,n,r),(!n.selected||!o||(null==a?void 0:a.length)!==o)&&(n.selected||!s||(null==a?void 0:a.length)!==s)){var l,i,d=a?eN([],a,!0):[];if(n.selected){var c=d.findIndex(function(t){return ex(e,t)});d.splice(c,1)}else d.push(e);null===(i=t.onSelect)||void 0===i||i.call(t,d,e,n,r)}},modifiers:l},children:n})}function e1(){var e=(0,o.useContext)(eZ);if(!e)throw Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var e2=(0,o.createContext)(void 0);function e4(e){return eS(e.initialProps)?(0,r.jsx)(e3,{initialProps:e.initialProps,children:e.children}):(0,r.jsx)(e2.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:e.children})}function e3(e){var t=e.initialProps,n=e.children,a=t.selected,o=a||{},s=o.from,l=o.to,i=t.min,d=t.max,c={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(c.range_start=[s],l?(c.range_end=[l],ex(s,l)||(c.range_middle=[{after:s,before:l}])):c.range_end=[s]):l&&(c.range_start=[l],c.range_end=[l]),i&&(s&&!l&&c.disabled.push({after:ep(s,-(i-1)),before:ep(s,i-1)}),s&&l&&c.disabled.push({after:s,before:ep(s,i-1)}),!s&&l&&c.disabled.push({after:ep(l,-(i-1)),before:ep(l,i-1)})),d){if(s&&!l&&(c.disabled.push({before:ep(s,-d+1)}),c.disabled.push({after:ep(s,d-1)})),s&&l){var u=d-(E(l,s)+1);c.disabled.push({before:ep(s,-u)}),c.disabled.push({after:ep(l,u)})}!s&&l&&(c.disabled.push({before:ep(l,-d+1)}),c.disabled.push({after:ep(l,d-1)}))}return(0,r.jsx)(e2.Provider,{value:{selected:a,onDayClick:function(e,n,r){null===(o=t.onDayClick)||void 0===o||o.call(t,e,n,r);var o,s,l=function(e,t){var n=t||{},a=n.from,r=n.to;return a&&r?ex(r,e)&&ex(a,e)?void 0:ex(r,e)?{from:r,to:void 0}:ex(a,e)?void 0:eb(a,e)?{from:e,to:r}:{from:a,to:e}:r?eb(e,r)?{from:r,to:e}:{from:e,to:r}:a?+P(e)<+P(a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}(e,a);null===(s=t.onSelect)||void 0===s||s.call(t,l,e,n,r)},modifiers:c},children:n})}function e5(){var e=(0,o.useContext)(e2);if(!e)throw Error("useSelectRange must be used within a SelectRangeProvider");return e}function e8(e){return Array.isArray(e)?eN([],e,!0):void 0!==e?[e]:[]}!function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"}(a||(a={}));var e6=a.Selected,e9=a.Disabled,e7=a.Hidden,te=a.Today,tt=a.RangeEnd,tn=a.RangeMiddle,ta=a.RangeStart,tr=a.Outside,to=(0,o.createContext)(void 0);function ts(e){var t,n,a,o=eO(),s=e1(),l=e5(),i=((t={})[e6]=e8(o.selected),t[e9]=e8(o.disabled),t[e7]=e8(o.hidden),t[te]=[o.today],t[tt]=[],t[tn]=[],t[ta]=[],t[tr]=[],o.fromDate&&t[e9].push({before:o.fromDate}),o.toDate&&t[e9].push({after:o.toDate}),ek(o)?t[e9]=t[e9].concat(s.modifiers[e9]):eS(o)&&(t[e9]=t[e9].concat(l.modifiers[e9]),t[ta]=l.modifiers[ta],t[tn]=l.modifiers[tn],t[tt]=l.modifiers[tt]),t),d=(n=o.modifiers,a={},Object.entries(n).forEach(function(e){var t=e[0],n=e[1];a[t]=e8(n)}),a),c=ej(ej({},i),d);return(0,r.jsx)(to.Provider,{value:c,children:e.children})}function tl(){var e=(0,o.useContext)(to);if(!e)throw Error("useModifiers must be used within a ModifiersProvider");return e}function ti(e,t,n){var a=Object.keys(t).reduce(function(n,a){return t[a].some(function(t){if("boolean"==typeof t)return t;if(et(t))return ex(e,t);if(Array.isArray(t)&&t.every(et))return t.includes(e);if(t&&"object"==typeof t&&"from"in t)return a=t.from,r=t.to,a&&r?(0>E(r,a)&&(a=(n=[r,a])[0],r=n[1]),E(e,a)>=0&&E(r,e)>=0):r?ex(r,e):!!a&&ex(a,e);if(t&&"object"==typeof t&&"dayOfWeek"in t)return t.dayOfWeek.includes(e.getDay());if(t&&"object"==typeof t&&"before"in t&&"after"in t){var n,a,r,o=E(t.before,e),s=E(t.after,e),l=o>0,i=s<0;return eb(t.before,t.after)?i&&l:l||i}return t&&"object"==typeof t&&"after"in t?E(e,t.after)>0:t&&"object"==typeof t&&"before"in t?E(t.before,e)>0:"function"==typeof t&&t(e)})&&n.push(a),n},[]),r={};return a.forEach(function(e){return r[e]=!0}),n&&!em(e,n)&&(r.outside=!0),r}var td=(0,o.createContext)(void 0);function tc(e){var t=eY(),n=tl(),a=(0,o.useState)(),s=a[0],l=a[1],i=(0,o.useState)(),d=i[0],c=i[1],u=function(e,t){for(var n,a,r=ei(e[0]),o=ed(e[e.length-1]),s=r;s<=o;){var l=ti(s,t);if(!(!l.disabled&&!l.hidden)){s=ep(s,1);continue}if(l.selected)return s;l.today&&!a&&(a=s),n||(n=s),s=ep(s,1)}return a||n}(t.displayMonths,n),h=(null!=s?s:d&&t.isDateDisplayed(d))?d:u,f=function(e){l(e)},m=eO(),p=function(e,a){if(s){var r=function e(t,n){var a=n.moveBy,r=n.direction,o=n.context,s=n.modifiers,l=n.retry,i=void 0===l?{count:0,lastFocused:t}:l,d=o.weekStartsOn,c=o.fromDate,u=o.toDate,h=o.locale,f=({day:ep,week:eg,month:ef,year:ev,startOfWeek:function(e){return o.ISOWeek?I(e):W(e,{locale:h,weekStartsOn:d})},endOfWeek:function(e){return o.ISOWeek?ew(e):ey(e,{locale:h,weekStartsOn:d})}})[a](t,"after"===r?1:-1);if("before"===r&&c){let e;[c,f].forEach(function(t){let n=P(t);(void 0===e||e<n||isNaN(Number(n)))&&(e=n)}),f=e||new Date(NaN)}else if("after"===r&&u){let e;[u,f].forEach(t=>{let n=P(t);(!e||e>n||isNaN(+n))&&(e=n)}),f=e||new Date(NaN)}var m=!0;if(s){var p=ti(f,s);m=!p.disabled&&!p.hidden}return m?f:i.count>365?i.lastFocused:e(f,{moveBy:a,direction:r,context:o,modifiers:s,retry:ej(ej({},i),{count:i.count+1})})}(s,{moveBy:e,direction:a,context:m,modifiers:n});ex(s,r)||(t.goToDate(r,s),f(r))}};return(0,r.jsx)(td.Provider,{value:{focusedDay:s,focusTarget:h,blur:function(){c(s),l(void 0)},focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}},children:e.children})}function tu(){var e=(0,o.useContext)(td);if(!e)throw Error("useFocusContext must be used within a FocusProvider");return e}var th=(0,o.createContext)(void 0);function tf(e){return eC(e.initialProps)?(0,r.jsx)(tm,{initialProps:e.initialProps,children:e.children}):(0,r.jsx)(th.Provider,{value:{selected:void 0},children:e.children})}function tm(e){var t=e.initialProps,n=e.children,a={selected:t.selected,onDayClick:function(e,n,a){var r,o,s;if(null===(r=t.onDayClick)||void 0===r||r.call(t,e,n,a),n.selected&&!t.required){null===(o=t.onSelect)||void 0===o||o.call(t,void 0,e,n,a);return}null===(s=t.onSelect)||void 0===s||s.call(t,e,e,n,a)}};return(0,r.jsx)(th.Provider,{value:a,children:n})}function tp(){var e=(0,o.useContext)(th);if(!e)throw Error("useSelectSingle must be used within a SelectSingleProvider");return e}function tx(e){var t,n,s,l,i,d,c,u,h,f,m,p,x,b,g,v,y,w,j,N,k,S,C,M,D,_,P,A,O,E,T,F,W,I,L,R,Y,q,B,H,z,V,G=(0,o.useRef)(null),J=(t=e.date,n=e.displayMonth,d=eO(),c=tu(),u=ti(t,tl(),n),h=eO(),f=tp(),m=e1(),p=e5(),b=(x=tu()).focusDayAfter,g=x.focusDayBefore,v=x.focusWeekAfter,y=x.focusWeekBefore,w=x.blur,j=x.focus,N=x.focusMonthBefore,k=x.focusMonthAfter,S=x.focusYearBefore,C=x.focusYearAfter,M=x.focusStartOfWeek,D=x.focusEndOfWeek,_={onClick:function(e){var n,a,r,o;eC(h)?null===(n=f.onDayClick)||void 0===n||n.call(f,t,u,e):ek(h)?null===(a=m.onDayClick)||void 0===a||a.call(m,t,u,e):eS(h)?null===(r=p.onDayClick)||void 0===r||r.call(p,t,u,e):null===(o=h.onDayClick)||void 0===o||o.call(h,t,u,e)},onFocus:function(e){var n;j(t),null===(n=h.onDayFocus)||void 0===n||n.call(h,t,u,e)},onBlur:function(e){var n;w(),null===(n=h.onDayBlur)||void 0===n||n.call(h,t,u,e)},onKeyDown:function(e){var n;switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),"rtl"===h.dir?b():g();break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),"rtl"===h.dir?g():b();break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),v();break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),y();break;case"PageUp":e.preventDefault(),e.stopPropagation(),e.shiftKey?S():N();break;case"PageDown":e.preventDefault(),e.stopPropagation(),e.shiftKey?C():k();break;case"Home":e.preventDefault(),e.stopPropagation(),M();break;case"End":e.preventDefault(),e.stopPropagation(),D()}null===(n=h.onDayKeyDown)||void 0===n||n.call(h,t,u,e)},onKeyUp:function(e){var n;null===(n=h.onDayKeyUp)||void 0===n||n.call(h,t,u,e)},onMouseEnter:function(e){var n;null===(n=h.onDayMouseEnter)||void 0===n||n.call(h,t,u,e)},onMouseLeave:function(e){var n;null===(n=h.onDayMouseLeave)||void 0===n||n.call(h,t,u,e)},onPointerEnter:function(e){var n;null===(n=h.onDayPointerEnter)||void 0===n||n.call(h,t,u,e)},onPointerLeave:function(e){var n;null===(n=h.onDayPointerLeave)||void 0===n||n.call(h,t,u,e)},onTouchCancel:function(e){var n;null===(n=h.onDayTouchCancel)||void 0===n||n.call(h,t,u,e)},onTouchEnd:function(e){var n;null===(n=h.onDayTouchEnd)||void 0===n||n.call(h,t,u,e)},onTouchMove:function(e){var n;null===(n=h.onDayTouchMove)||void 0===n||n.call(h,t,u,e)},onTouchStart:function(e){var n;null===(n=h.onDayTouchStart)||void 0===n||n.call(h,t,u,e)}},P=eO(),A=tp(),O=e1(),E=e5(),T=eC(P)?A.selected:ek(P)?O.selected:eS(P)?E.selected:void 0,F=!!(d.onDayClick||"default"!==d.mode),(0,o.useEffect)(function(){var e;!u.outside&&c.focusedDay&&F&&ex(c.focusedDay,t)&&(null===(e=G.current)||void 0===e||e.focus())},[c.focusedDay,t,G,F,u.outside]),I=(W=[d.classNames.day],Object.keys(u).forEach(function(e){var t=d.modifiersClassNames[e];if(t)W.push(t);else if(Object.values(a).includes(e)){var n=d.classNames["day_".concat(e)];n&&W.push(n)}}),W).join(" "),L=ej({},d.styles.day),Object.keys(u).forEach(function(e){var t;L=ej(ej({},L),null===(t=d.modifiersStyles)||void 0===t?void 0:t[e])}),R=L,Y=!!(u.outside&&!d.showOutsideDays||u.hidden),q=null!==(i=null===(l=d.components)||void 0===l?void 0:l.DayContent)&&void 0!==i?i:eU,B={style:R,className:I,children:(0,r.jsx)(q,{date:t,displayMonth:n,activeModifiers:u}),role:"gridcell"},H=c.focusTarget&&ex(c.focusTarget,t)&&!u.outside,z=c.focusedDay&&ex(c.focusedDay,t),V=ej(ej(ej({},B),((s={disabled:u.disabled,role:"gridcell"})["aria-selected"]=u.selected,s.tabIndex=z||H?0:-1,s)),_),{isButton:F,isHidden:Y,activeModifiers:u,selectedDays:T,buttonProps:V,divProps:B});return J.isHidden?(0,r.jsx)("div",{role:"gridcell"}):J.isButton?(0,r.jsx)(ez,ej({name:"day",ref:G},J.buttonProps)):(0,r.jsx)("div",ej({},J.divProps))}function tb(e){var t=e.number,n=e.dates,a=eO(),o=a.onWeekNumberClick,s=a.styles,l=a.classNames,i=a.locale,d=a.labels.labelWeekNumber,c=(0,a.formatters.formatWeekNumber)(Number(t),{locale:i});if(!o)return(0,r.jsx)("span",{className:l.weeknumber,style:s.weeknumber,children:c});var u=d(Number(t),{locale:i});return(0,r.jsx)(ez,{name:"week-number","aria-label":u,className:l.weeknumber,style:s.weeknumber,onClick:function(e){o(t,n,e)},children:c})}function tg(e){var t,n,a,o=eO(),s=o.styles,l=o.classNames,i=o.showWeekNumber,d=o.components,c=null!==(t=null==d?void 0:d.Day)&&void 0!==t?t:tx,u=null!==(n=null==d?void 0:d.WeekNumber)&&void 0!==n?n:tb;return i&&(a=(0,r.jsx)("td",{className:l.cell,style:s.cell,children:(0,r.jsx)(u,{number:e.weekNumber,dates:e.dates})})),(0,r.jsxs)("tr",{className:l.row,style:s.row,children:[a,e.dates.map(function(t){return(0,r.jsx)("td",{className:l.cell,style:s.cell,role:"presentation",children:(0,r.jsx)(c,{displayMonth:e.displayMonth,date:t})},Math.trunc(+P(t)/1e3))})]})}function tv(e,t,n){for(var a=(null==n?void 0:n.ISOWeek)?ew(t):ey(t,n),r=(null==n?void 0:n.ISOWeek)?I(e):W(e,n),o=E(a,r),s=[],l=0;l<=o;l++)s.push(ep(r,l));return s.reduce(function(e,t){var a=(null==n?void 0:n.ISOWeek)?R(t):q(t,n),r=e.find(function(e){return e.weekNumber===a});return r?r.dates.push(t):e.push({weekNumber:a,dates:[t]}),e},[])}function ty(e){var t,n,a,o=eO(),s=o.locale,l=o.classNames,i=o.styles,d=o.hideHead,c=o.fixedWeeks,u=o.components,h=o.weekStartsOn,f=o.firstWeekContainsDate,m=o.ISOWeek,p=function(e,t){var n=tv(ei(e),ed(e),t);if(null==t?void 0:t.useFixedWeeks){var a=function(e,t,n){let a=W(e,n),r=W(t,n);return Math.round((+a-O(a)-(+r-O(r)))/6048e5)}(function(e){let t=P(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}(e),ei(e),t)+1;if(a<6){var r=n[n.length-1],o=r.dates[r.dates.length-1],s=eg(o,6-a),l=tv(eg(o,1),s,t);n.push.apply(n,l)}}return n}(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:m,locale:s,weekStartsOn:h,firstWeekContainsDate:f}),x=null!==(t=null==u?void 0:u.Head)&&void 0!==t?t:eQ,b=null!==(n=null==u?void 0:u.Row)&&void 0!==n?n:tg,g=null!==(a=null==u?void 0:u.Footer)&&void 0!==a?a:e$;return(0,r.jsxs)("table",{id:e.id,className:l.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&(0,r.jsx)(x,{}),(0,r.jsx)("tbody",{className:l.tbody,style:i.tbody,children:p.map(function(t){return(0,r.jsx)(b,{displayMonth:e.displayMonth,dates:t.dates,weekNumber:t.weekNumber},t.weekNumber)})}),(0,r.jsx)(g,{displayMonth:e.displayMonth})]})}var tw="undefined"!=typeof window&&window.document&&window.document.createElement?o.useLayoutEffect:o.useEffect,tj=!1,tN=0;function tk(){return"react-day-picker-".concat(++tN)}function tS(e){var t,n,a,s,l,i,d,c,u=eO(),h=u.dir,f=u.classNames,m=u.styles,p=u.components,x=eY().displayMonths,b=(a=null!=(t=u.id?"".concat(u.id,"-").concat(e.displayIndex):void 0)?t:tj?tk():null,l=(s=(0,o.useState)(a))[0],i=s[1],tw(function(){null===l&&i(tk())},[]),(0,o.useEffect)(function(){!1===tj&&(tj=!0)},[]),null!==(n=null!=t?t:l)&&void 0!==n?n:void 0),g=u.id?"".concat(u.id,"-grid-").concat(e.displayIndex):void 0,v=[f.month],y=m.month,w=0===e.displayIndex,j=e.displayIndex===x.length-1,N=!w&&!j;"rtl"===h&&(j=(d=[w,j])[0],w=d[1]),w&&(v.push(f.caption_start),y=ej(ej({},y),m.caption_start)),j&&(v.push(f.caption_end),y=ej(ej({},y),m.caption_end)),N&&(v.push(f.caption_between),y=ej(ej({},y),m.caption_between));var k=null!==(c=null==p?void 0:p.Caption)&&void 0!==c?c:eJ;return(0,r.jsxs)("div",{className:v.join(" "),style:y,children:[(0,r.jsx)(k,{id:b,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,r.jsx)(ty,{id:g,"aria-labelledby":b,displayMonth:e.displayMonth})]},e.displayIndex)}function tC(e){var t=eO(),n=t.classNames,a=t.styles;return(0,r.jsx)("div",{className:n.months,style:a.months,children:e.children})}function tM(e){var t,n,a=e.initialProps,s=eO(),l=tu(),i=eY(),d=(0,o.useState)(!1),c=d[0],u=d[1];(0,o.useEffect)(function(){s.initialFocus&&l.focusTarget&&(c||(l.focus(l.focusTarget),u(!0)))},[s.initialFocus,c,l.focus,l.focusTarget,l]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var f=ej(ej({},s.styles.root),s.style),m=Object.keys(a).filter(function(e){return e.startsWith("data-")}).reduce(function(e,t){var n;return ej(ej({},e),((n={})[t]=a[t],n))},{}),p=null!==(n=null===(t=a.components)||void 0===t?void 0:t.Months)&&void 0!==n?n:tC;return(0,r.jsx)("div",ej({className:h.join(" "),style:f,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},m,{children:(0,r.jsx)(p,{children:i.displayMonths.map(function(e,t){return(0,r.jsx)(tS,{displayIndex:t,displayMonth:e},t)})})}))}function tD(e){var t=e.children,n=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}(e,["children"]);return(0,r.jsx)(eA,{initialProps:n,children:(0,r.jsx)(eR,{children:(0,r.jsx)(tf,{initialProps:n,children:(0,r.jsx)(eX,{initialProps:n,children:(0,r.jsx)(e4,{initialProps:n,children:(0,r.jsx)(ts,{children:(0,r.jsx)(tc,{children:t})})})})})})})}function t_(e){return(0,r.jsx)(tD,ej({},e,{children:(0,r.jsx)(tM,{initialProps:e})}))}var tP=n(51223);function tA({className:e,classNames:t,showOutsideDays:n=!0,...a}){return r.jsx(t_,{showOutsideDays:n,className:(0,tP.cn)("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,tP.cn)((0,x.d)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,tP.cn)((0,x.d)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...e})=>r.jsx(y,{className:"h-4 w-4"}),IconRight:({...e})=>r.jsx(w,{className:"h-4 w-4"})},...a})}tA.displayName="Calendar";var tO=n(85999),tE=n(82561),tT=n(93095),tF=n(70545),tW=n(48051),tI=n(88957),tL=n(45226),tR=n(55049),tY=n(52067),tq=o.createContext(void 0);function tB(e){let t=o.useContext(tq);return e||t||"ltr"}var tH="rovingFocusGroup.onEntryFocus",tz={bubbles:!1,cancelable:!0},tV="RovingFocusGroup",[tG,tJ,t$]=(0,tF.B)(tV),[tK,tQ]=(0,tT.b)(tV,[t$]),[tU,tZ]=tK(tV),tX=o.forwardRef((e,t)=>(0,r.jsx)(tG.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(tG.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,r.jsx)(t0,{...e,ref:t})})}));tX.displayName=tV;var t0=o.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:l,currentTabStopId:i,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=o.useRef(null),p=(0,tW.e)(t,m),x=tB(l),[b,g]=(0,tY.T)({prop:i,defaultProp:d??null,onChange:c,caller:tV}),[v,y]=o.useState(!1),w=(0,tR.W)(u),j=tJ(n),N=o.useRef(!1),[k,S]=o.useState(0);return o.useEffect(()=>{let e=m.current;if(e)return e.addEventListener(tH,w),()=>e.removeEventListener(tH,w)},[w]),(0,r.jsx)(tU,{scope:n,orientation:a,dir:x,loop:s,currentTabStopId:b,onItemFocus:o.useCallback(e=>g(e),[g]),onItemShiftTab:o.useCallback(()=>y(!0),[]),onFocusableItemAdd:o.useCallback(()=>S(e=>e+1),[]),onFocusableItemRemove:o.useCallback(()=>S(e=>e-1),[]),children:(0,r.jsx)(tL.WV.div,{tabIndex:v||0===k?-1:0,"data-orientation":a,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:(0,tE.M)(e.onMouseDown,()=>{N.current=!0}),onFocus:(0,tE.M)(e.onFocus,e=>{let t=!N.current;if(e.target===e.currentTarget&&t&&!v){let t=new CustomEvent(tH,tz);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=j().filter(e=>e.focusable);t3([e.find(e=>e.active),e.find(e=>e.id===b),...e].filter(Boolean).map(e=>e.ref.current),h)}}N.current=!1}),onBlur:(0,tE.M)(e.onBlur,()=>y(!1))})})}),t1="RovingFocusGroupItem",t2=o.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:l,children:i,...d}=e,c=(0,tI.M)(),u=l||c,h=tZ(t1,n),f=h.currentTabStopId===u,m=tJ(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:b}=h;return o.useEffect(()=>{if(a)return p(),()=>x()},[a,p,x]),(0,r.jsx)(tG.ItemSlot,{scope:n,id:u,focusable:a,active:s,children:(0,r.jsx)(tL.WV.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...d,ref:t,onMouseDown:(0,tE.M)(e.onMouseDown,e=>{a?h.onItemFocus(u):e.preventDefault()}),onFocus:(0,tE.M)(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:(0,tE.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,n){var a;let r=(a=e.key,"rtl"!==n?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return t4[r]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=m().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();let a=n.indexOf(e.currentTarget);n=h.loop?function(e,t){return e.map((n,a)=>e[(t+a)%e.length])}(n,a+1):n.slice(a+1)}setTimeout(()=>t3(n))}}),children:"function"==typeof i?i({isCurrentTabStop:f,hasTabStop:null!=b}):i})})});t2.displayName=t1;var t4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function t3(e,t=!1){let n=document.activeElement;for(let a of e)if(a===n||(a.focus({preventScroll:t}),document.activeElement!==n))return}var t5=n(9815),t8="Tabs",[t6,t9]=(0,tT.b)(t8,[tQ]),t7=tQ(),[ne,nt]=t6(t8),nn=o.forwardRef((e,t)=>{let{__scopeTabs:n,value:a,onValueChange:o,defaultValue:s,orientation:l="horizontal",dir:i,activationMode:d="automatic",...c}=e,u=tB(i),[h,f]=(0,tY.T)({prop:a,onChange:o,defaultProp:s??"",caller:t8});return(0,r.jsx)(ne,{scope:n,baseId:(0,tI.M)(),value:h,onValueChange:f,orientation:l,dir:u,activationMode:d,children:(0,r.jsx)(tL.WV.div,{dir:u,"data-orientation":l,...c,ref:t})})});nn.displayName=t8;var na="TabsList",nr=o.forwardRef((e,t)=>{let{__scopeTabs:n,loop:a=!0,...o}=e,s=nt(na,n),l=t7(n);return(0,r.jsx)(tX,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:a,children:(0,r.jsx)(tL.WV.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});nr.displayName=na;var no="TabsTrigger",ns=o.forwardRef((e,t)=>{let{__scopeTabs:n,value:a,disabled:o=!1,...s}=e,l=nt(no,n),i=t7(n),d=nd(l.baseId,a),c=nc(l.baseId,a),u=a===l.value;return(0,r.jsx)(t2,{asChild:!0,...i,focusable:!o,active:u,children:(0,r.jsx)(tL.WV.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:d,...s,ref:t,onMouseDown:(0,tE.M)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(a)}),onKeyDown:(0,tE.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(a)}),onFocus:(0,tE.M)(e.onFocus,()=>{let e="manual"!==l.activationMode;u||o||!e||l.onValueChange(a)})})})});ns.displayName=no;var nl="TabsContent",ni=o.forwardRef((e,t)=>{let{__scopeTabs:n,value:a,forceMount:s,children:l,...i}=e,d=nt(nl,n),c=nd(d.baseId,a),u=nc(d.baseId,a),h=a===d.value,f=o.useRef(h);return o.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(t5.z,{present:s||h,children:({present:n})=>(0,r.jsx)(tL.WV.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!n,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:n&&l})})});function nd(e,t){return`${e}-trigger-${t}`}function nc(e,t){return`${e}-content-${t}`}ni.displayName=nl;let nu=o.forwardRef(({className:e,...t},n)=>r.jsx(nr,{ref:n,className:(0,tP.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));nu.displayName=nr.displayName;let nh=o.forwardRef(({className:e,...t},n)=>r.jsx(ns,{ref:n,className:(0,tP.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));nh.displayName=ns.displayName;let nf=o.forwardRef(({className:e,...t},n)=>r.jsx(ni,{ref:n,className:(0,tP.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));function nm({open:e,onClose:t,client:n,onSaved:a}){let s=["CNC Cutting & Carving","CNC Engraving","Custom Wood Design","Temple Door","Portrait","Decorative Jali & Grills","Wall Art","Furniture Crafting"],[l,i]=(0,o.useState)(""),[d,c]=(0,o.useState)(s[0]),[u,h]=(0,o.useState)(""),[f,m]=(0,o.useState)(""),[p,g]=(0,o.useState)("1"),[v,y]=(0,o.useState)("0"),[w,j]=(0,o.useState)("0"),[N,k]=(0,o.useState)(void 0),[S,C]=(0,o.useState)(""),M=()=>parseFloat(f||"0")*parseFloat(p||"1")-parseFloat(v||"0"),D=()=>M()-parseFloat(w||"0"),_=async()=>{if(!l&&!d)return C("Service required");if(!f||isNaN(Number(f)))return C("Valid rate required");let e={customer:n._id,description:u||l||d,rate:parseFloat(f),quantity:parseFloat(p),discount:parseFloat(v),advance:parseFloat(w),total:M(),paid:parseFloat(w),balance:D(),deliveryDate:N,status:"pending"},r=await fetch("/api/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});r.ok?(a(await r.json()),tO.Am.success("Job/Quote created!"),t()):C("Failed to create job.")};return e?r.jsx("div",{className:"fixed z-50 inset-0 flex items-center justify-center bg-black/40",children:(0,r.jsxs)("div",{className:"bg-walnut/90 text-gold-leaf shadow-2xl rounded-2xl border border-walnut/40",children:[r.jsx("button",{onClick:t,className:"absolute top-2 right-3 text-2xl",children:"\xd7"}),(0,r.jsxs)("h3",{className:"text-xl font-bold mb-3 text-walnut",children:["Add Job / Quote for ",n.name]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-walnut mb-1",children:"Service"}),(0,r.jsxs)("select",{className:"w-full h-12 px-4 rounded border",value:d,onChange:e=>c(e.target.value),children:[s.map(e=>r.jsx("option",{value:e,children:e},e)),r.jsx("option",{value:"__custom",children:"Other (enter below)"})]}),"__custom"===d&&r.jsx(b.I,{className:"mt-2",placeholder:"Custom service",value:l,onChange:e=>i(e.target.value)})]}),r.jsx("div",{children:r.jsx(b.I,{placeholder:"Description (optional)",value:u,onChange:e=>h(e.target.value)})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(b.I,{className:"w-1/2",type:"number",placeholder:"Rate",value:f,onChange:e=>m(e.target.value)}),r.jsx(b.I,{className:"w-1/2",type:"number",placeholder:"Quantity",value:p,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(b.I,{className:"w-1/2",type:"number",placeholder:"Advance",value:w,onChange:e=>j(e.target.value)}),r.jsx(b.I,{className:"w-1/2",type:"number",placeholder:"Discount",value:v,onChange:e=>y(e.target.value)})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm mb-1 text-walnut",children:"Expected Delivery Date (optional):"}),r.jsx(tA,{selected:N,onSelect:k})]}),(0,r.jsxs)("div",{className:"text-sandalwood text-sm",children:["Total: ",M()," | Balance: ",D()]}),S&&r.jsx("div",{className:"text-red-600 text-sm",children:S}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 justify-end",children:[r.jsx(x.Button,{variant:"outline",onClick:t,type:"button",children:"Cancel"}),r.jsx(x.Button,{variant:"golden",type:"button",onClick:_,children:"Add Job / Quote"})]})]})]})}):null}function np({open:e,onClose:t,onSave:n,initial:a}){let[s,l]=(0,o.useState)(a?.name||""),[i,d]=(0,o.useState)(a?.phone||""),[c,u]=(0,o.useState)(a?.email||""),[h,f]=(0,o.useState)(a?.deliveryDate?new Date(a.deliveryDate):void 0),[m,p]=(0,o.useState)("");return e?r.jsx("div",{className:"fixed z-50 inset-0 flex items-center justify-center bg-black/40",children:(0,r.jsxs)("div",{className:"bg-walnut/90 text-gold-leaf shadow-2xl rounded-2xl border border-walnut/40",children:[r.jsx("button",{onClick:t,className:"absolute top-2 right-3 text-2xl",children:"\xd7"}),r.jsx("h3",{className:"text-xl font-bold mb-3 text-walnut",children:a?"Edit Client":"Add Client"}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{children:r.jsx(b.I,{placeholder:"Full Name",value:s,onChange:e=>l(e.target.value),required:!0})}),r.jsx("div",{children:r.jsx(b.I,{placeholder:"Phone",value:i,onChange:e=>d(e.target.value)})}),r.jsx("div",{children:r.jsx(b.I,{placeholder:"Email",value:c,onChange:e=>u(e.target.value)})}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm mb-1 text-walnut",children:"Expected Delivery Date (optional):"}),r.jsx(tA,{selected:h,onSelect:f})]}),m&&r.jsx("div",{className:"text-red-600 text-sm",children:m}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 justify-end",children:[r.jsx(x.Button,{variant:"outline",onClick:t,type:"button",children:"Cancel"}),r.jsx(x.Button,{variant:"golden",type:"button",onClick:()=>{if(!s)return p("Name required");n({name:s,phone:i,email:c,deliveryDate:h})},children:a?"Save Changes":"Add Client"})]})]})]})}):null}function nx(){let[e,t]=(0,o.useState)([]),[n,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(void 0),[i,d]=(0,o.useState)(""),[c,u]=(0,o.useState)(!1),[h,f]=(0,o.useState)(null),m=i?e.filter(e=>e.name?.toLowerCase().includes(i.toLowerCase())||e.phone?.includes(i)):e,p=e=>{l(e),a(!0)},g=async e=>{if(a(!1),s&&s._id)(await fetch(`/api/customers/${s._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&t(t=>t.map(t=>t._id===s._id?{...t,...e}:t));else{let n=await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok){let e=await n.json();t(t=>[e,...t])}}};return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-walnut",children:"Manage Clients"}),r.jsx(x.Button,{variant:"golden",onClick:()=>p(),children:"+ Add Client"})]}),r.jsx("div",{className:"mb-3 max-w-xs",children:r.jsx(b.I,{placeholder:"Search by name or phone",value:i,onChange:e=>d(e.target.value)})}),r.jsx("div",{className:"overflow-x-auto rounded-lg border bg-card",children:(0,r.jsxs)("table",{className:"min-w-full text-left divide-y divide-walnut/30 even:bg-walnut/10 odd:bg-walnut/5",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-walnut/80 text-golden-teak",children:[r.jsx("th",{className:"py-2 px-3",children:"Name"}),r.jsx("th",{className:"py-2 px-3",children:"Phone"}),r.jsx("th",{className:"py-2 px-3",children:"Email"}),r.jsx("th",{className:"py-2 px-3",children:"Created"}),r.jsx("th",{className:"py-2 px-3",children:"Delivery"}),r.jsx("th",{className:"py-2 px-3 text-center",children:"Action"})]})}),(0,r.jsxs)("tbody",{children:[m.map(e=>(0,r.jsxs)("tr",{className:"border-t last:border-b hover:bg-golden-teak/10",children:[r.jsx("td",{className:"px-3 py-2",children:e.name}),r.jsx("td",{className:"px-3 py-2",children:e.phone}),r.jsx("td",{className:"px-3 py-2",children:e.email}),r.jsx("td",{className:"px-3 py-2",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}),r.jsx("td",{className:"px-3 py-2",children:e.deliveryDate?new Date(e.deliveryDate).toLocaleDateString():r.jsx("span",{className:"text-muted-foreground",children:"-"})}),(0,r.jsxs)("td",{className:"px-3 py-2 text-center",children:[r.jsx(x.Button,{size:"sm",variant:"outline",onClick:()=>p(e),children:"Edit"}),r.jsx(x.Button,{size:"sm",variant:"golden",className:"ml-2",onClick:()=>{f(e),u(!0)},children:"New Job / Quote"})]})]},e._id)),0===m.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"text-muted-foreground p-6 text-center",children:"No clients found."})})]})]})}),r.jsx(np,{open:n,onClose:()=>a(!1),onSave:g,initial:s}),r.jsx(nm,{open:c,onClose:()=>u(!1),client:h,onSaved:()=>{}})]})}function nb({open:e,onClose:t,job:n,onSaved:a}){let[s,l]=(0,o.useState)(""),[i,d]=(0,o.useState)(new Date),[c,u]=(0,o.useState)(""),h=async()=>{if(!s||isNaN(Number(s)))return u("Valid payment required");(await fetch("/api/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:n.customer._id,job:n._id,amount:parseFloat(s),date:i})})).ok?(a(),t(),tO.Am.success("Payment recorded.")):u("Failed to add payment.")};return e?r.jsx("div",{className:"fixed z-50 inset-0 flex items-center justify-center bg-black/50",children:(0,r.jsxs)("div",{className:"bg-walnut/90 text-gold-leaf shadow-2xl rounded-2xl border border-walnut/40",children:[r.jsx("button",{onClick:t,className:"absolute top-2 right-3 text-2xl",children:"\xd7"}),r.jsx("h3",{className:"text-xl font-bold mb-3 text-walnut",children:"Record Payment"}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(b.I,{placeholder:"Amount",type:"number",value:s,onChange:e=>l(e.target.value)}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm mb-1 text-walnut",children:"Date:"}),r.jsx(tA,{selected:i,onSelect:d})]}),c&&r.jsx("div",{className:"text-red-600 text-sm",children:c}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 justify-end",children:[r.jsx(x.Button,{variant:"outline",onClick:t,children:"Cancel"}),r.jsx(x.Button,{variant:"golden",onClick:h,children:"Add Payment"})]})]})]})}):null}function ng(){let[e,t]=(0,o.useState)([]),[n,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),[i,d]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),h=()=>fetch("/api/jobs").then(async e=>{let t=await e.text();if(!t)return[];try{return JSON.parse(t)}catch{return[]}}).then(t),f=async t=>{await h();let n=e.find(e=>e._id===t._id);n&&n.paid>=n.total&&"completed"!==n.status&&(await fetch(`/api/jobs/${n._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"completed"})}),await h(),tO.Am.success("Job marked as completed!"))},m=e.filter(e=>(!n||(e.customer?.name||"").toLowerCase().includes(n.toLowerCase()))&&(!s||e.status===s)),p=async e=>{try{let t=await fetch(`/api/invoices?job=${e._id}`),n=null;if(t.ok){let e=await t.json();Array.isArray(e)&&e.length>0&&(n=e[0])}if(!n){if((t=await fetch("/api/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:e.customer._id,jobs:[e._id],subtotal:e.total,discount:e.discount||0,total:e.total-(e.discount||0),paid:e.paid,balance:e.balance,number:`INV-${new Date().getFullYear()}-${Math.floor(1e4*Math.random())}`})})).ok)n=await t.json();else throw Error("Failed to create invoice.")}n&&n._id?(window.open(`/api/invoices/${n._id}/pdf`,"_blank"),tO.Am.success("Invoice ready!")):tO.Am.error("Something went wrong generating invoice.")}catch{tO.Am.error("Error generating invoice.")}};return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-between gap-2 mb-6",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-golden-teak mb-2 border-b-4 border-golden-teak pb-2 w-full pl-1",children:"Orders & Quotes"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(b.I,{placeholder:"Search client",value:n,onChange:e=>a(e.target.value)}),(0,r.jsxs)("select",{value:s,onChange:e=>l(e.target.value),className:"rounded border h-10 px-3 ml-2",children:[r.jsx("option",{value:"",children:"Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"completed",children:"Completed"})]})]})]}),r.jsx("div",{className:"overflow-x-auto rounded-2xl shadow-xl border-none bg-[#fff8e1] w-full mt-2 mb-6",children:(0,r.jsxs)("table",{className:"min-w-full text-left ",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-[#fcdf9b] border-b-2 border-golden-teak text-[#442609] text-lg font-bold",children:[r.jsx("th",{className:"py-4 px-4",children:"Service"}),r.jsx("th",{className:"py-4 px-4",children:"Client"}),r.jsx("th",{className:"py-4 px-4",children:"Dates"}),r.jsx("th",{className:"py-4 px-4",children:"Total"}),r.jsx("th",{className:"py-4 px-4",children:"Paid"}),r.jsx("th",{className:"py-4 px-4",children:"Balance"}),r.jsx("th",{className:"py-4 px-4",children:"Status"}),r.jsx("th",{className:"py-4 px-4 text-center",children:"Actions"})]})}),(0,r.jsxs)("tbody",{children:[m.map((e,t)=>(0,r.jsxs)("tr",{className:t%2==0?"bg-[#fff8e1] text-[#1a1204]":"bg-[#f8e3b0] text-[#1a1204] border-t border-gold-leaf/30 hover:bg-gold-leaf/10 transition",children:[r.jsx("td",{className:"px-4 py-3 font-medium",children:e.description}),r.jsx("td",{className:"px-4 py-3",children:e.customer?.name}),(0,r.jsxs)("td",{className:"px-4 py-3",children:[e.createdAt?new Date(e.createdAt).toLocaleDateString():"-",r.jsx("br",{}),e.deliveryDate?" "+new Date(e.deliveryDate).toLocaleDateString():""]}),(0,r.jsxs)("td",{className:"px-4 py-3 font-bold",children:["",e.total]}),(0,r.jsxs)("td",{className:"px-4 py-3",children:["",e.paid]}),(0,r.jsxs)("td",{className:"px-4 py-3",children:["",e.balance]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${"completed"===e.status?"bg-green-200 text-green-900":"pending"===e.status?"bg-yellow-100 text-yellow-900":"bg-blue-100 text-blue-900"}`,children:e.status})}),(0,r.jsxs)("td",{className:"px-4 py-3 text-center",children:[r.jsx(x.Button,{size:"lg",variant:"golden",className:"bg-gradient-to-r from-gold-leaf to-golden-teak text-[#312106] font-bold shadow-lg px-6 py-2 rounded-xl border-2 border-golden-teak hover:from-golden-teak hover:to-gold-leaf transition",onClick:()=>{u(e),d(!0)},children:"Add Payment"}),"completed"===e.status?r.jsx(x.Button,{size:"lg",variant:"golden",className:"ml-3 px-4 py-2 font-bold shadow border-golden-teak",onClick:()=>p(e),children:"Invoice"}):null]})]},e._id)),0===m.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"text-muted-foreground p-6 text-center",children:"No jobs found."})})]})]})}),r.jsx(nb,{open:i,onClose:()=>d(!1),job:c,onSaved:()=>f(c)})]})}function nv({open:e,onClose:t,job:n,generateOrOpenInvoice:a}){return e&&n?r.jsx("div",{className:"fixed z-50 inset-0 flex items-center justify-center bg-black/40",children:(0,r.jsxs)("div",{className:"relative bg-[#fff8e1] text-[#312106] shadow-2xl rounded-2xl border-2 border-golden-teak px-10 py-8 min-w-[360px] max-w-full w-[90vw] md:w-[520px] animate-fadeIn",children:[r.jsx("button",{"aria-label":"Close",onClick:t,className:"absolute top-5 right-5 text-3xl text-golden-teak hover:text-red-500 transition-colors bg-transparent p-1.5 rounded-full focus:outline-none focus:ring-2 focus:ring-gold-leaf/40",children:"\xd7"}),r.jsx("h3",{className:"text-2xl font-bold mb-4 text-golden-teak border-b-2 border-golden-teak pb-2",children:"Job Details"}),(0,r.jsxs)("div",{className:"mb-1",children:[r.jsx("span",{className:"font-bold text-walnut",children:"Client:"})," ",n.customer?.name," (",n.customer?.phone||"No phone",")"]}),(0,r.jsxs)("div",{className:"mb-1 text-base",children:["Created: ",n.createdAt?new Date(n.createdAt).toLocaleDateString():"-"," \xa0|\xa0 Delivery: ",n.deliveryDate?new Date(n.deliveryDate).toLocaleDateString():"-"]}),(0,r.jsxs)("div",{className:"mb-1",children:[r.jsx("span",{className:"font-bold",children:"Service:"})," ",n.description]}),(0,r.jsxs)("div",{className:"mb-1",children:["Rate: ",(0,r.jsxs)("b",{children:["",n.rate]}),", Qty: ",r.jsx("b",{children:n.quantity}),", Discount: ",(0,r.jsxs)("b",{children:["",n.discount]}),", Advance: ",(0,r.jsxs)("b",{children:["",n.advance]})]}),(0,r.jsxs)("div",{className:"mb-2",children:["Paid: ",(0,r.jsxs)("b",{children:["",n.paid]}),", Balance: ",(0,r.jsxs)("b",{children:["",n.balance]}),", \xa0 ",r.jsx("span",{className:"font-bold",children:"Status:"})," ",r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ml-1 ${"completed"===n.status?"bg-green-200 text-green-900":"pending"===n.status?"bg-yellow-100 text-yellow-900":"bg-blue-100 text-blue-900"}`,children:n.status})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:["completed"===n.status&&r.jsx(x.Button,{variant:"golden",className:"flex-1",onClick:()=>a(n),children:"Generate/View Invoice"}),r.jsx(x.Button,{variant:"outline",onClick:t,className:"flex-1",children:"Close"})]})]})}):null}function ny(){let[e,t]=(0,o.useState)([]),[n,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(null),i=e.filter(e=>!n||(e.customer?.name||"").toLowerCase().includes(n.toLowerCase())),d=async e=>{try{let t=await fetch(`/api/invoices?job=${e._id}`),n=null;if(t.ok){let e=await t.json();Array.isArray(e)&&e.length>0&&(n=e[0])}if(!n){if((t=await fetch("/api/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customer:e.customer._id,jobs:[e._id],subtotal:e.total,discount:e.discount||0,total:e.total-(e.discount||0),paid:e.paid,balance:e.balance,number:`INV-${new Date().getFullYear()}-${Math.floor(1e4*Math.random())}`})})).ok)n=await t.json();else throw Error("Failed to create invoice.")}n&&n._id?(window.open(`/api/invoices/${n._id}/pdf`,"_blank"),tO.Am.success("Invoice ready!")):tO.Am.error("Something went wrong generating invoice.")}catch{tO.Am.error("Error generating invoice.")}};return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-between gap-2 mb-6",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-golden-teak mb-2 border-b-4 border-golden-teak pb-2 w-full pl-1",children:"All Projects / Jobs"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(b.I,{placeholder:"Search client/job",value:n,onChange:e=>a(e.target.value)}),r.jsx(x.Button,{variant:"outline",onClick:()=>{window.open("/api/export/jobs","_blank")},children:"Export CSV"})]})]}),r.jsx("div",{className:"overflow-x-auto rounded-2xl border-none bg-[#fff8e1] w-full mt-2 mb-6",children:(0,r.jsxs)("table",{className:"min-w-full text-left ",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-[#fcdf9b] border-b-2 border-golden-teak text-[#442609] text-lg font-bold",children:[r.jsx("th",{className:"py-4 px-4",children:"Job"}),r.jsx("th",{className:"py-4 px-4",children:"Client"}),r.jsx("th",{className:"py-4 px-4",children:"Created"}),r.jsx("th",{className:"py-4 px-4",children:"Total"}),r.jsx("th",{className:"py-4 px-4",children:"Paid"}),r.jsx("th",{className:"py-4 px-4",children:"Balance"}),r.jsx("th",{className:"py-4 px-4",children:"Status"}),r.jsx("th",{className:"py-4 px-4 text-center",children:"Action"})]})}),(0,r.jsxs)("tbody",{children:[i.map(e=>(0,r.jsxs)("tr",{className:"even:bg-[#fff8e1] odd:bg-[#f8e3b0] text-[#1a1204] border-t border-gold-leaf/30 hover:bg-gold-leaf/10 transition",children:[r.jsx("td",{className:"px-4 py-3 font-medium",children:e.description}),r.jsx("td",{className:"px-4 py-3",children:e.customer?.name}),r.jsx("td",{className:"px-4 py-3",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"}),(0,r.jsxs)("td",{className:"px-4 py-3",children:["",e.total]}),(0,r.jsxs)("td",{className:"px-4 py-3",children:["",e.paid]}),(0,r.jsxs)("td",{className:"px-4 py-3",children:["",e.balance]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${"completed"===e.status?"bg-green-200 text-green-900":"pending"===e.status?"bg-yellow-100 text-yellow-900":"bg-blue-100 text-blue-900"}`,children:e.status})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx(x.Button,{size:"sm",variant:"outline",onClick:()=>l(e),children:"View"})})]},e._id)),0===i.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"text-muted-foreground p-6 text-center",children:"No jobs found."})})]})]})}),r.jsx(nv,{open:!!s,onClose:()=>l(null),job:s,generateOrOpenInvoice:d})]})}function nw(){let[e,t]=(0,o.useState)([]),[n,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(-1),[i,d]=(0,o.useState)(""),c=async()=>{n&&(await fetch("/api/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n})}),t(e=>[n,...e]),a(""))},u=async n=>{await fetch("/api/services",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({old:e[n],name:i})}),t(e=>e.map((e,t)=>t===n?i:e)),l(-1),d("")},h=async n=>{await fetch("/api/services",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e[n]})}),t(e=>e.filter((e,t)=>t!==n))};return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-between gap-2 mb-6",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-golden-teak mb-2 border-b-4 border-golden-teak pb-2 w-full pl-1",children:"Service Master List"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(b.I,{placeholder:"Add new service",value:n,onChange:e=>a(e.target.value)}),r.jsx(x.Button,{variant:"golden",onClick:c,children:"Add"})]})]}),r.jsx("div",{className:"overflow-x-auto rounded-2xl border-none bg-[#fff8e1] w-full mt-2 mb-6 max-w-lg",children:(0,r.jsxs)("table",{className:"min-w-full text-left ",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-[#fcdf9b] border-b-2 border-golden-teak text-[#442609] text-lg font-bold",children:[r.jsx("th",{className:"py-4 px-4",children:"Service"}),r.jsx("th",{className:"py-4 px-4"})]})}),(0,r.jsxs)("tbody",{children:[e.map((e,t)=>(0,r.jsxs)("tr",{className:"even:bg-[#fff8e1] odd:bg-[#f8e3b0] text-[#1a1204] border-t border-gold-leaf/30 hover:bg-gold-leaf/10 transition",children:[r.jsx("td",{className:"px-4 py-3",children:s===t?r.jsx(b.I,{value:i,onChange:e=>d(e.target.value)}):e}),(0,r.jsxs)("td",{className:"px-4 py-3 text-right",children:[s===t?r.jsx(x.Button,{size:"sm",variant:"golden",onClick:()=>u(t),children:"Save"}):r.jsx(x.Button,{size:"sm",variant:"outline",onClick:()=>{l(t),d(e)},children:"Edit"}),r.jsx(x.Button,{size:"sm",variant:"outline",className:"ml-2",onClick:()=>h(t),children:"Delete"})]})]},e+t)),0===e.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:2,className:"text-muted-foreground p-6 text-center",children:"No services"})})]})]})})]})}function nj(){let[e,t]=(0,o.useState)([]),[n,a]=(0,o.useState)(""),s=e.filter(e=>!n||e.customer?.name.toLowerCase().includes(n.toLowerCase()));return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-between gap-2 mb-6",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-golden-teak mb-2 border-b-4 border-golden-teak pb-2 w-full pl-1",children:"All Payments"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(b.I,{placeholder:"Search client/job",value:n,onChange:e=>a(e.target.value)})})]}),r.jsx("div",{className:"overflow-x-auto rounded-2xl border-none bg-[#fff8e1] w-full mt-2 mb-6",children:(0,r.jsxs)("table",{className:"min-w-full text-left ",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-[#fcdf9b] border-b-2 border-golden-teak text-[#442609] text-lg font-bold",children:[r.jsx("th",{className:"py-4 px-4",children:"Client"}),r.jsx("th",{className:"py-4 px-4",children:"Job/service"}),r.jsx("th",{className:"py-4 px-4",children:"Amount"}),r.jsx("th",{className:"py-4 px-4",children:"Date"})]})}),(0,r.jsxs)("tbody",{children:[s.map(e=>(0,r.jsxs)("tr",{className:"even:bg-[#fff8e1] odd:bg-[#f8e3b0] text-[#1a1204] border-t border-gold-leaf/30 hover:bg-gold-leaf/10 transition",children:[r.jsx("td",{className:"px-4 py-3 font-medium",children:e.customer?.name}),r.jsx("td",{className:"px-4 py-3",children:e.job&&e.job.description}),(0,r.jsxs)("td",{className:"px-4 py-3",children:["",e.amount]}),r.jsx("td",{className:"px-4 py-3",children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"-"})]},e._id)),0===s.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-muted-foreground p-6 text-center",children:"No payments"})})]})]})})]})}function nN(){let[e,t]=(0,o.useState)(""),[n,a]=(0,o.useState)("");return(0,r.jsxs)("div",{className:"p-8",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-golden-teak mb-2 border-b-4 border-golden-teak pb-2 w-full pl-1",children:"Admin Settings"}),(0,r.jsxs)("form",{className:"space-y-6 mt-6 max-w-xl",onSubmit:e=>{e.preventDefault(),(0,tO.Am)("Updating ENV settings via web is restricted. Please update .env.local manually for changes to take effect.")},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block mb-1 text-walnut",children:"Admin Email"}),r.jsx(b.I,{value:e,onChange:e=>t(e.target.value),disabled:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block mb-1 text-walnut",children:"Password"}),r.jsx(b.I,{value:n,onChange:e=>a(e.target.value),type:"password",placeholder:"(set in .env)",disabled:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block mb-1 text-walnut",children:"Brand Logo (future)"}),r.jsx("input",{type:"file",disabled:!0,className:"border p-2 rounded w-full"})]}),r.jsx(x.Button,{type:"submit",variant:"golden",className:"w-full",children:"Update"})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground mt-3",children:["To update admin credentials or branding, edit ",r.jsx("b",{children:".env.local"})," and restart your app for security. Signed-in only, always protected."]})]})}function nk(){let[e,t]=(0,o.useState)([]),[n,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(null),i=(0,o.useRef)(null),[d,c]=(0,o.useState)(""),[u,h]=(0,o.useState)(""),[f,m]=(0,o.useState)(null),[p,g]=(0,o.useState)(""),[v,y]=(0,o.useState)(""),w=async()=>{if(!s)return;a(!0);let e=new FormData;e.append("file",s),e.append("title",d),e.append("category",u);try{let n=await fetch("/api/media/upload",{method:"POST",body:e});if(n.ok){let e=await n.json();t(t=>[...t,e]),tO.Am.success("Image uploaded!")}else{let e=await n.json();tO.Am.error(e.message||"Failed to upload image.")}}catch(e){tO.Am.error("An unexpected error occurred.")}finally{l(null),c(""),h(""),a(!1)}};return(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"flex flex-wrap justify-between gap-2 mb-6",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-golden-teak mb-2 border-b-4 border-golden-teak pb-2 w-full pl-1",children:"Gallery Manager"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(b.I,{placeholder:"Title",value:d,onChange:e=>c(e.target.value)}),r.jsx(b.I,{placeholder:"Category",value:u,onChange:e=>h(e.target.value)}),r.jsx(x.Button,{variant:"outline",onClick:()=>i.current?.click(),children:"Choose File"}),r.jsx("input",{onChange:e=>l(e.target.files?.[0]??null),ref:i,type:"file",className:"hidden"}),s&&r.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:s.name}),r.jsx(x.Button,{className:"text-black",variant:"golden",onClick:w,disabled:n||!s,children:"Upload"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full bg-[#fff8e1] rounded-2xl p-6",children:[0===e.length&&r.jsx("div",{className:"col-span-full text-muted-foreground p-6 text-center",children:"No images"}),e.map(e=>(0,r.jsxs)("div",{className:"rounded-lg overflow-hidden border border-gold-leaf/30 bg-[#f8e3b0] flex flex-col",children:[r.jsx("img",{src:e.url,alt:e.title,className:"object-cover h-40 w-full"}),(0,r.jsxs)("div",{className:"p-2",children:[r.jsx("div",{className:"font-bold text-walnut text-lg mb-1",children:e.title}),r.jsx("div",{className:"text-sandalwood text-sm",children:e.category})]})]},e._id))]})]})}function nS(){let[e,t]=(0,o.useState)({});return(0,r.jsxs)("div",{className:"p-8",children:[r.jsx("h2",{className:"text-3xl font-extrabold text-golden-teak mb-2 border-b-4 border-golden-teak pb-2 w-full pl-1",children:"Admin Dashboard"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8 mt-6",children:[(0,r.jsxs)("div",{className:"bg-walnut/60 rounded-xl p-6 shadow flex flex-col items-center",children:[r.jsx("div",{className:"text-golden-teak text-3xl font-bold",children:e.totalJobs??"-"}),r.jsx("div",{className:"text-sandalwood mt-2",children:"Jobs/Orders"})]}),(0,r.jsxs)("div",{className:"bg-walnut/60 rounded-xl p-6 shadow flex flex-col items-center",children:[r.jsx("div",{className:"text-golden-teak text-3xl font-bold",children:e.totalAmount?`${e.totalAmount}`:"-"}),r.jsx("div",{className:"text-sandalwood mt-2",children:"Total Revenue"})]}),(0,r.jsxs)("div",{className:"bg-walnut/60 rounded-xl p-6 shadow flex flex-col items-center",children:[r.jsx("div",{className:"text-golden-teak text-3xl font-bold",children:e.totalAdvance?`${e.totalAdvance}`:"-"}),r.jsx("div",{className:"text-sandalwood mt-2",children:"Advances"})]}),(0,r.jsxs)("div",{className:"bg-walnut/60 rounded-xl p-6 shadow flex flex-col items-center",children:[r.jsx("div",{className:"text-golden-teak text-3xl font-bold",children:e.totalBalance?`${e.totalBalance}`:"-"}),r.jsx("div",{className:"text-sandalwood mt-2",children:"Outstanding"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4 flex-wrap mb-4",children:[r.jsx(x.Button,{variant:"golden",onClick:()=>document.querySelector('[aria-label="Clients"]')?.scrollIntoView(),children:"Manage Clients"}),r.jsx(x.Button,{variant:"golden",onClick:()=>document.querySelector('[aria-label="Orders & Quotes"]')?.scrollIntoView(),children:"Orders & Quotes"}),r.jsx(x.Button,{variant:"golden",onClick:()=>document.querySelector('[aria-label="Projects"]')?.scrollIntoView(),children:"Projects"}),r.jsx(x.Button,{variant:"golden",onClick:()=>document.querySelector('[aria-label="Gallery Manager"]')?.scrollIntoView(),children:"Gallery"})]}),r.jsx("div",{className:"text-sandalwood",children:"Jump to any section above, or use the sidebar for advanced management and search."})]})}nf.displayName=ni.displayName;let nC=function(){let{data:e}=(0,s.useSession)(),[t,n]=(0,o.useState)("dashboard"),[a,l]=(0,o.useState)(""),[b,g]=(0,o.useState)(""),[y,w]=(0,o.useState)(null),j=async e=>{e.preventDefault();let t=await (0,s.signIn)("credentials",{email:a,password:b,redirect:!1});!t||t.error?w("Invalid email or password"):w(null)};return e?(0,r.jsxs)("div",{className:"flex",children:[r.jsx(v,{activeTab:t,setActiveTab:n}),(0,r.jsxs)("main",{className:"flex-1 p-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-walnut mb-6",children:"Admin Panel"}),r.jsx("div",{className:"mt-6",children:(0,r.jsxs)(nn,{value:t,onValueChange:n,className:"w-full",children:[(0,r.jsxs)(nu,{className:"grid w-full grid-cols-4",children:[(0,r.jsxs)(nh,{value:"dashboard","aria-label":"Dashboard",children:[r.jsx(i,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),(0,r.jsxs)(nh,{value:"clients","aria-label":"Clients",children:[r.jsx(d,{className:"mr-2 h-4 w-4"}),"Clients"]}),(0,r.jsxs)(nh,{value:"orders","aria-label":"Orders & Quotes",children:[r.jsx(c,{className:"mr-2 h-4 w-4"}),"Orders & Quotes"]}),(0,r.jsxs)(nh,{value:"projects","aria-label":"Projects",children:[r.jsx(u,{className:"mr-2 h-4 w-4"}),"Projects"]}),(0,r.jsxs)(nh,{value:"services","aria-label":"Service Master List",children:[r.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Services"]}),(0,r.jsxs)(nh,{value:"payments","aria-label":"All Payments",children:[r.jsx(f,{className:"mr-2 h-4 w-4"}),"Payments"]}),(0,r.jsxs)(nh,{value:"settings","aria-label":"Admin Settings",children:[r.jsx(m,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,r.jsxs)(nh,{value:"gallery","aria-label":"Gallery Manager",children:[r.jsx(p,{className:"mr-2 h-4 w-4"}),"Gallery"]})]}),r.jsx(nf,{value:"dashboard",children:r.jsx(nS,{})}),r.jsx(nf,{value:"clients",children:r.jsx(nx,{})}),r.jsx(nf,{value:"orders",children:r.jsx(ng,{})}),r.jsx(nf,{value:"projects",children:r.jsx(ny,{})}),r.jsx(nf,{value:"services",children:r.jsx(nw,{})}),r.jsx(nf,{value:"payments",children:r.jsx(nj,{})}),r.jsx(nf,{value:"settings",children:r.jsx(nN,{})}),r.jsx(nf,{value:"gallery",children:r.jsx(nk,{})})]})})]})]}):r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-walnut",children:(0,r.jsxs)("div",{className:"bg-walnut/90 text-gold-leaf shadow-2xl rounded-2xl border border-walnut/40 p-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4 text-walnut",children:"Admin Login"}),r.jsx("p",{className:"text-walnut mb-4",children:"Sign in with your admin email and password."}),(0,r.jsxs)("form",{className:"space-y-4",onSubmit:j,children:[r.jsx("input",{type:"email",value:a,onChange:e=>l(e.target.value),placeholder:"Email",className:"border rounded p-2 w-full text-walnut",required:!0}),r.jsx("input",{type:"password",value:b,onChange:e=>g(e.target.value),placeholder:"Password",className:"border rounded p-2 w-full text-walnut",required:!0}),y&&r.jsx("div",{className:"text-red-600 text-sm",children:y}),r.jsx(x.Button,{type:"submit",className:"w-full",children:"Sign in"})]})]})})}},16134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(19510),r=n(68570);let o=(0,r.createProxy)(String.raw`E:\VENKATESHWARA\VENKATESHWARA-CNC\src\pages\Admin.tsx#default`);(0,r.createProxy)(String.raw`E:\VENKATESHWARA\VENKATESHWARA-CNC\src\pages\Admin.tsx#getServerSideProps`);var s=n(75571),l=n(95456),i=n(61085);async function d(){return await (0,s.getServerSession)(l.L)||(0,i.redirect)("/auth/signin?callbackUrl=/admin"),a.jsx(o,{})}},61085:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ReadonlyURLSearchParams:function(){return s},RedirectType:function(){return a.RedirectType},notFound:function(){return r.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect}});let a=n(83953),r=n(16399);class o extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new o}delete(){throw new o}set(){throw new o}sort(){throw new o}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{isNotFoundError:function(){return r},notFound:function(){return a}});let n="NEXT_NOT_FOUND";function a(){let e=Error(n);throw e.digest=n,e}function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return n}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,n)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{RedirectType:function(){return a},getRedirectError:function(){return i},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return h},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let r=n(54580),o=n(72934),s=n(8586),l="NEXT_REDIRECT";function i(e,t,n){void 0===n&&(n=s.RedirectStatusCode.TemporaryRedirect);let a=Error(l);a.digest=l+";"+t+";"+e+";"+n+";";let o=r.requestAsyncStorage.getStore();return o&&(a.mutableCookies=o.mutableCookies),a}function d(e,t){void 0===t&&(t="replace");let n=o.actionAsyncStorage.getStore();throw i(e,t,(null==n?void 0:n.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let n=o.actionAsyncStorage.getStore();throw i(e,t,(null==n?void 0:n.isAction)?s.RedirectStatusCode.SeeOther:s.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,n,a,r]=e.digest.split(";",4),o=Number(r);return t===l&&("replace"===n||"push"===n)&&"string"==typeof a&&!isNaN(o)&&o in s.RedirectStatusCode}function h(e){return u(e)?e.digest.split(";",3)[2]:null}function f(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(a||(a={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},95456:(e,t,n)=>{"use strict";n.d(t,{L:()=>u});var a=n(75571),r=n.n(a),o=n(53797),s=n(42023),l=n.n(s);let i=process.env.ADMIN_EMAIL,d=process.env.ADMIN_PASSWORD,c=process.env.ADMIN_PASSWORD_HASH;if(!i||!d&&!c)throw Error("Admin credentials env vars are missing (set ADMIN_EMAIL and ADMIN_PASSWORD or ADMIN_PASSWORD_HASH)");let u={session:{strategy:"jwt"},providers:[(0,o.Z)({name:"Admin",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password||e.email!==i)return null;let t=!1;return(d?t=e.password===d:c&&(t=await l().compare(e.password,c)),t)?{id:"admin",name:"Admin",email:i,role:"admin"}:null}})],callbacks:{jwt:async({token:e,user:t})=>(t&&(e.role="admin"),e),session:async({session:e,token:t})=>(e.user&&(e.user.role=t.role),e)},pages:{signIn:"/auth/signin"}},{auth:h}=r()(u)}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[9276,7313,9224,5187],()=>n(4093));module.exports=a})();